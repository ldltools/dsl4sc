// _update (x); (case1 + case2)

protocol
(_update_x; (case1 + case2); next)* ;;
// _update_x is internal

property
x_eq_1;

rule

// update x
on _update_x do { js_update_x (); };

on case1 when x_eq_1 { x == 1 } do x_eq_1 { console.log ("case: x = 1") };
on case1 when !x_eq_1 do false;
on case2 when !x_eq_1 { x != 1 } do !x_eq_1 { console.log ("case: x != 1") };
on case2 when x_eq_1 do false;

on next do x_eq_1;
