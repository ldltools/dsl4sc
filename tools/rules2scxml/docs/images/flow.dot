// $Id: $
digraph flow {
  rankdir=LR
  node				[shape=box]

// --------------------------------------------------------------------------------
// file nodes
// --------------------------------------------------------------------------------
  rules				[label=<<I>SC</I>.rules>]

  {rank=same
   spec				[label=<<I>SC</I>.rules>]
   rules_xml			[label=<<I>SC</I>.rules.xml>]
  }

  ldl				[label=<<I>SC</I>.ldl>]

  {rank=same
   mso				[label=<<I>SC</I>.mso>]
  }

  {rank=same
   rankdir=TB
   dfa				[label=<<I>SC</I>_dfa.xml>]
   dummy1			[label="", shape=point, color=white]
   dfa2				[label=<<I>SC</I>_dfa2.xml>]
   dfa3				[label=<<I>SC</I>_dfa3.xml>]
   dfa4				[label=<<I>SC</I>_dfa4.xml>]
  }

  {rank=same
   dfadot			[label=<<I>SC</I>_dfa.dot>]
   scxml			[label=<<I>SC</I>.scxml>]
  }

// --------------------------------------------------------------------------------
// flow
// --------------------------------------------------------------------------------

// rules
  rules -> spec			[label=rulespp]
  rules -> rules_xml		[label=rulespp]

  spec -> ldl			[label=rules2ldl]
  ldl -> mso			[label=ldl2mso]
  mso -> dfa			[label="mso2dfa.sh"]
  dfa -> dummy1			[arrowhead=none]
  dummy1 -> dfa2		[label=<(<I>preprocess</I>)>]
  dfa2 -> dfa3			[label="dfa2dfa        ", labelfloat=true]
  dfa3 -> dfa4			[label=<(<I>postprocess</I>)>]
  dfa4 -> scxml			[label=<(<I>print</I>)>]

  rules_xml -> dummy1		[label=<(<I>event names, code fragments</I>)>, arrowhead=none]

//
  dfa -> dfadot			[label="dfa2dot.sh"]

//
  rules -> scxml		[label="rules2scxml.sh", style=dotted]
  dummy1 -> scxml		[label="dfa2scxml.sh", style=dotted]

}